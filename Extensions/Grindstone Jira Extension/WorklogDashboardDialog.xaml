<Window xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Height="600" Width="900"
        Title="Worklog Dashboard"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanResize"
        Background="White"
        FontFamily="Segoe UI">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- Date Navigation -->
        <Grid Grid.Row="0" Margin="0,0,0,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <Button Grid.Column="0" x:Name="previousDayButton" Width="30" Margin="0,0,5,0" Padding="5">
                <Path Data="M 6,0 L 0,6 L 6,12" Stroke="Black" StrokeThickness="2" VerticalAlignment="Center" HorizontalAlignment="Center"/>
            </Button>
            <DatePicker Grid.Column="1" x:Name="selectedDate" Width="150" Margin="0,0,5,0" />
            <Button Grid.Column="2" x:Name="nextDayButton" Width="30" Margin="0,0,10,0" Padding="5">
                <Path Data="M 0,0 L 6,6 L 0,12" Stroke="Black" StrokeThickness="2" VerticalAlignment="Center" HorizontalAlignment="Center"/>
            </Button>
            <TextBlock Grid.Column="3" x:Name="dateDisplayText" FontSize="16" FontWeight="Bold"
                       VerticalAlignment="Center" HorizontalAlignment="Left" />
            <Button Grid.Column="4" x:Name="todayButton" Width="60" Padding="5">Today</Button>
        </Grid>

        <!-- Summary Row -->
        <Grid Grid.Row="1" Margin="0,0,0,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <TextBlock Grid.Column="0" x:Name="totalTimeText" FontSize="14" FontWeight="Bold" />
            <TextBlock Grid.Column="1" x:Name="entryCountText" FontSize="14" FontWeight="Bold" />
            <StackPanel Grid.Column="2" Orientation="Horizontal" HorizontalAlignment="Right">
                <Button x:Name="syncToJiraButton" Width="100" Margin="0,0,5,0" Padding="5">Sync to Jira</Button>
                <Button x:Name="refreshButton" Width="100" Padding="5">Refresh</Button>
            </StackPanel>
        </Grid>

        <!-- Time Bar -->
        <Border Grid.Row="2" BorderBrush="Gray" BorderThickness="1" Margin="0,0,0,10" Height="40">
            <Canvas x:Name="timeBarCanvas" Background="#F0F0F0" ClipToBounds="True" />
        </Border>

        <!-- Worklogs DataGrid -->
        <Border Grid.Row="3" BorderBrush="#A0A0A0" BorderThickness="1">
            <DataGrid x:Name="worklogsGrid"
                      AutoGenerateColumns="False"
                      IsReadOnly="True"
                      SelectionMode="Single"
                      CanUserAddRows="False"
                      CanUserDeleteRows="False"
                      GridLinesVisibility="All"
                      HeadersVisibility="Column"
                      Background="White"
                      RowBackground="White"
                      AlternatingRowBackground="#F8F8F8"
                      HorizontalGridLinesBrush="#E0E0E0"
                      VerticalGridLinesBrush="#E0E0E0"
                      BorderThickness="0">
                <DataGrid.Resources>
                    <Style TargetType="DataGridColumnHeader">
                        <Setter Property="Padding" Value="5,3,5,3"/>
                        <Setter Property="Background" Value="#F0F0F0"/>
                        <Setter Property="BorderBrush" Value="#D0D0D0"/>
                        <Setter Property="BorderThickness" Value="0,0,1,1"/>
                        <Setter Property="FontWeight" Value="Normal"/>
                    </Style>
                    <Style TargetType="DataGridCell">
                        <Setter Property="Padding" Value="5,2,5,2"/>
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="DataGridCell">
                                    <Border Padding="{TemplateBinding Padding}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" SnapsToDevicePixels="True">
                                        <ContentPresenter SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"/>
                                    </Border>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </DataGrid.Resources>
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Work Item" Binding="{Binding WorkItemName}" Width="*" MinWidth="200" />
                    <DataGridTextColumn Header="Start" Binding="{Binding StartTime, StringFormat={}{0:HH:mm:ss}}" Width="80" />
                    <DataGridTextColumn Header="End" Binding="{Binding EndTime, StringFormat={}{0:HH:mm:ss}}" Width="80" />
                    <DataGridTextColumn Header="Duration" Binding="{Binding Duration}" Width="80" />
                    <DataGridTextColumn Header="Notes" Binding="{Binding Notes}" Width="*" MinWidth="150" />
                </DataGrid.Columns>
            </DataGrid>
        </Border>

        <!-- Close Button -->
        <StackPanel Grid.Row="4" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
            <Button x:Name="closeButton" Width="100" Padding="5">Close</Button>
        </StackPanel>
    </Grid>
</Window>
